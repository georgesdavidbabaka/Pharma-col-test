<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=375, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>Commande</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,700&display=swap" />
  <style>
    body {
      margin: 0;
      padding: 0;
      background: #e6f4ea;
      font-family: 'Montserrat', Arial, sans-serif;
      min-height: 100vh;
      width: 100vw;
      overflow-x: hidden;
    }
    .container {
      max-width: 375px;
      margin: 0 auto;
      min-height: 100vh;
      background: #e6f4ea;
      display: flex;
      flex-direction: column;
      position: relative;
      padding-bottom: 24px;
    }
    /* Photo utilisateur */
    .photo-section {
      width: 100%;
      height: 210px;
      position: relative;
      border-bottom-left-radius: 36px;
      border-bottom-right-radius: 36px;
      overflow: hidden;
      background: #fff;
      display: flex;
      align-items: flex-start;
      justify-content: center;
    }
    .photo-section img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-bottom-left-radius: 36px;
      border-bottom-right-radius: 36px;
      display: block;
    }
    .commande-label {
      position: absolute;
      left: 50%;
      top: 16px;
      transform: translateX(-50%);
      background: #e6f4ea;
      color: #008080;
      font-weight: 700;
      font-size: 1em;
      padding: 6px 28px;
      border-radius: 16px;
      border: 1.5px solid #b7e3f6;
      box-shadow: 0 2px 8px rgba(0,128,128,0.04);
      font-family: 'Montserrat', Arial, sans-serif;
      z-index: 2;
      letter-spacing: 0.02em;
    }
    /* Liste des produits */
    .order-list {
      background: #d2e7dc;
      border-radius: 24px;
      margin: -24px 0 0 0;
      padding: 24px 0 12px 0;
      width: 100%;
      box-sizing: border-box;
      flex: 1;
    }
    .order-item {
      display: flex;
      align-items: center;
      padding: 10px 18px 10px 18px;
      border-radius: 16px;
      margin-bottom: 8px;
      background: #f8fcfa;
      box-shadow: 0 2px 8px rgba(0,128,0,0.03);
    }
    .order-img {
      width: 48px;
      height: 48px;
      border-radius: 12px;
      object-fit: cover;
      margin-right: 13px;
      border: 1.5px solid #e6f4ea;
      background: #fff;
      flex-shrink: 0;
    }
    .order-info {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }
    .order-title {
      font-weight: 700;
      color: #222;
      font-size: 1.08em;
      margin-bottom: 2px;
    }
    .order-date {
      color: #888;
      font-size: 0.97em;
      margin-bottom: 2px;
    }
    .order-price {
      font-weight: 700;
      color: #008000;
      font-size: 1.08em;
      margin-left: 10px;
      min-width: 46px;
      text-align: right;
    }
    .order-qty-controls {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 2px;
      margin-left: 10px;
    }
    .qty-btn {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      border: none;
      background: #e6f4ea;
      color: #008000;
      font-size: 1.3em;
      font-weight: 700;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.18s;
      margin: 0;
      padding: 0;
      outline: none;
    }
    .qty-btn:active {
      background: #b7e3f6;
    }
    .order-qty {
      font-size: 1.05em;
      font-weight: 600;
      color: #222;
      margin: 2px 0;
    }
    /* Total */
    .order-total-row {
      display: flex;
      justify-content: flex-end;
      align-items: center;
      margin: 18px 24px 0 0;
      font-size: 1.13em;
      font-weight: 700;
      color: #222;
      letter-spacing: 0.01em;
    }
    .order-total-label {
      margin-right: 8px;
      color: #222;
      font-weight: 600;
    }
    .order-total-value {
      color: #008000;
      font-weight: 700;
      font-size: 1.13em;
    }
    /* Bouton valider */
    .validate-btn {
      width: 90%;
      margin: 24px auto 0 auto;
      background: #008000;
      color: #fff;
      font-size: 1.18em;
      font-weight: 700;
      border: none;
      border-radius: 22px;
      padding: 15px 0;
      box-shadow: 0 2px 12px rgba(0,128,0,0.07);
      cursor: pointer;
      transition: background 0.18s;
      letter-spacing: 0.03em;
      font-family: 'Montserrat', Arial, sans-serif;
      display: block;
    }
    .validate-btn:active {
      background: #005c00;
    }
    /* Barre d'indicateur bas (style iOS) */
    .bottom-bar {
      width: 120px;
      height: 7px;
      background: #222;
      opacity: 0.13;
      border-radius: 7px;
      margin: 22px auto 0 auto;
    }
    @media (max-width: 600px) {
      .container {
        width: 100vw;
        max-width: 100vw;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Photo utilisateur -->
    <div class="photo-section">
      <img src="https://randomuser.me/api/portraits/women/1.jpg" alt="Photo profil" />
      <div class="commande-label">Commande</div>
    </div>
    <!-- Liste des produits -->
    <div class="order-list" id="orderList">
      <div class="order-item" data-index="0">
        <img class="order-img" src="doliprane-1000mg-effeverscent-bt-8.jpg" alt="Doliprane 1000 mg" />
        <div class="order-info">
          <div class="order-title">Doliprane 1000 mg</div>
          <div class="order-date">Livre mercredi, 23 mai 2025</div>
        </div>
        <div class="order-price">15Dh</div>
        <div class="order-qty-controls">
          <button class="qty-btn plus">+</button>
          <div class="order-qty" id="qty0">1</div>
          <button class="qty-btn minus">-</button>
        </div>
      </div>
      <div class="order-item" data-index="1">
        <img class="order-img" src="d-cure-25-000-ui-12-ampoules.jpg" alt="D-cure" />
        <div class="order-info">
          <div class="order-title">D-cure</div>
          <div class="order-date">Livre mercredi, 23 mai 2025</div>
        </div>
        <div class="order-price">27Dh</div>
        <div class="order-qty-controls">
          <button class="qty-btn plus">+</button>
          <div class="order-qty" id="qty1">1</div>
          <button class="qty-btn minus">-</button>
        </div>
      </div>
      <div class="order-item" data-index="2">
        <img class="order-img" src="images (5).jpeg" alt="Efferalgan" />
        <div class="order-info">
          <div class="order-title">Efferalgan</div>
          <div class="order-date">Livre mercredi, 23 mai 2025</div>
        </div>
        <div class="order-price">13Dh</div>
        <div class="order-qty-controls">
          <button class="qty-btn plus">+</button>
          <div class="order-qty" id="qty2">2</div>
          <button class="qty-btn minus">-</button>
        </div>
      </div>
      <div class="order-total-row">
        <span class="order-total-label">Total:</span>
        <span class="order-total-value" id="orderTotal">58Dh</span>
      </div>
    </div>
    <!-- Bouton valider -->
    <button class="validate-btn" id="validateBtn">Valider</button>
    <!-- Barre d'indicateur bas -->
    <div class="bottom-bar"></div>
  </div>
  <script>
    // Prix unitaire et quantitÃ©s initiales
    const products = [
      { name: "Doliprane 1000 mg", price: 15, qty: 1 },
      { name: "D-cure", price: 27, qty: 1 },
      { name: "Efferalgan", price: 13, qty: 2 }
    ];

    function updateTotal() {
      let total = 0;
      products.forEach(p => total += p.price * p.qty);
      document.getElementById('orderTotal').textContent = total + "Dh";
    }

    // Gestion des boutons +/-
    document.querySelectorAll('.order-item').forEach((item, idx) => {
      const plusBtn = item.querySelector('.plus');
      const minusBtn = item.querySelector('.minus');
      const qtyDiv = item.querySelector('.order-qty');
      plusBtn.addEventListener('click', () => {
        products[idx].qty++;
        qtyDiv.textContent = products[idx].qty;
        updateTotal();
      });
      minusBtn.addEventListener('click', () => {
        if (products[idx].qty > 1) {
          products[idx].qty--;
          qtyDiv.textContent = products[idx].qty;
          updateTotal();
        }
      });
    });

    // Valider bouton : redirige vers commandeindex.html
    document.getElementById('validateBtn').addEventListener('click', () => {
      window.location.href = "commandeindex.html";
    });

    // Initialiser le total
    updateTotal();
  </script>
</body>
</html>
